<Window x:Class="HisseAnalizUygulamasi.QuarterlyAnalysisWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Geçmiş Çeyrek Analizi" Height="600" Width="800"
        Background="{DynamicResource BackgroundBrush}"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="20">
        <StackPanel>
            <!-- Başlık -->
            <TextBlock Text="📊 Geçmiş Çeyrek Analizi" 
                       FontSize="26" FontWeight="Bold" 
                       HorizontalAlignment="Center" 
                       Margin="0,0,0,20"
                       Foreground="{DynamicResource TextPrimaryBrush}"/>

            <!-- Sembol Girişi -->
            <Border Background="{DynamicResource SurfaceBrush}" 
                    CornerRadius="5" 
                    Padding="20" 
                    Margin="0,0,0,20"
                    BorderBrush="{DynamicResource BorderBrush}"
                    BorderThickness="1">
                <StackPanel>
                    <TextBlock Text="Hisse Sembolü" 
                               FontWeight="Bold" 
                               Margin="0,0,0,5"
                               Foreground="{DynamicResource TextPrimaryBrush}"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBox x:Name="txtSymbol" 
                                 Grid.Column="0"
                                 FontSize="16" 
                                 Padding="8"
                                 CharacterCasing="Upper"
                                 Margin="0,0,10,0"/>

                        <Button x:Name="BtnAnalyze"
                                Grid.Column="1"
                                Content="ANALİZ ET"
                                Click="BtnAnalyze_Click"
                                Background="{DynamicResource PrimaryBrush}"
                                Foreground="White"
                                FontWeight="Bold"
                                Padding="20,8"
                                Cursor="Hand"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Yükleniyor -->
            <Border x:Name="LoadingPanel"
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="5"
                    Padding="40"
                    Visibility="Collapsed"
                    BorderBrush="{DynamicResource BorderBrush}"
                    BorderThickness="1">
                <TextBlock Text="⏳ Veriler yükleniyor..."
                           FontSize="18"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}"/>
            </Border>

            <!-- Sonuçlar -->
            <Border x:Name="DataPanel"
                    Background="{DynamicResource SurfaceBrush}"
                    CornerRadius="5"
                    Padding="20"
                    Visibility="Collapsed"
                    BorderBrush="{DynamicResource BorderBrush}"
                    BorderThickness="1">
                <StackPanel>
                    <TextBlock x:Name="txtCompanyName"
                               FontSize="20"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,20"
                               Foreground="{DynamicResource TextPrimaryBrush}"/>

                    <TextBlock Text="NOT: Şu anda sadece en güncel çeyrek verisi gösteriliyor."
                               TextWrapping="Wrap"
                               FontStyle="Italic"
                               Foreground="Orange"
                               Margin="0,0,0,10"/>

                    <DataGrid x:Name="QuarterlyDataGrid"
                              AutoGenerateColumns="False"
                              IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Dönem" Binding="{Binding Period}" Width="*"/>
                            <DataGridTextColumn Header="Adil Değer" Binding="{Binding AdilDeger}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>
        </StackPanel>
    </Grid>
</Window>